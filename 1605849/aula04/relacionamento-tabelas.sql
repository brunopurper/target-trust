DROP DATABASE IF EXISTS EMPRESA;
CREATE DATABASE IF NOT EXISTS EMPRESA;
USE EMPRESA;

# CRIE A TABELA DE DEPARTAMENTOS CONFORME O DIAGRAMA APRESENTADO
CREATE TABLE IF NOT EXISTS DEPARTAMENTOS (
	id_departamento INT UNSIGNED AUTO_INCREMENT,
    sigla VARCHAR(10) NOT NULL,
    nome VARCHAR(50) NOT NULL,
    PRIMARY KEY (id_departamento)
) ENGINE = InnoDB;

# FUNCIONARIOS
CREATE TABLE IF NOT EXISTS FUNCIONARIOS (
	id_funcionario INT UNSIGNED AUTO_INCREMENT,
    nome VARCHAR(45) NOT NULL,
    genero char(1),
    dt_admissao DATETIME DEFAULT CURRENT_TIMESTAMP,
    id_departamento INT UNSIGNED, # Ã© um atributo COMO QUALQUER OUTRO!
    PRIMARY KEY (id_funcionario),
    CONSTRAINT FK_FUNCIONARIOS_DEPARTAMENTOS
        # aqui tornamos o atributo id_departamento criado acima em uma FK
		FOREIGN KEY (id_departamento) 
        REFERENCES DEPARTAMENTOS(id_departamento)
) ENGINE = InnoDB;

# CRIE A TABELA DE TELEFONES COM OS RESPECTIVOS RELACIONAMENTOS
CREATE TABLE IF NOT EXISTS TELEFONES (
	id_telefone INT UNSIGNED AUTO_INCREMENT,
    ddd VARCHAR(3) NOT NULL,
    numero VARCHAR(15) NOT NULL,
    id_funcionario INT UNSIGNED,
    PRIMARY KEY (id_telefone),
    CONSTRAINT FK_TELEFONES_FUNCIONARIOS
		FOREIGN KEY (id_funcionario)
        REFERENCES FUNCIONARIOS(id_funcionario)
) ENGINE = InnoDB;








